#!/bin/bash
# .githooks/pre-push-rosehip
echo "üåå ROSEHIP PUSH HOOK: Validando cogni√ß√£o para o ChainGit..."

# 1. GERAR ASSINATURA COGNITIVA DO COMMIT
# (Simula√ß√£o simplificada)
avg_entropy=$(python3 scripts/calculate_entropy.py)
echo "   > Entropia M√©dia do Reposit√≥rio: $avg_entropy"

# 2. VALIDAR (Simula√ß√£o)
if (( $(echo "$avg_entropy < 12.0" | bc -l) )); then
    echo "‚úÖ Assinatura cognitiva validada."
    exit 0
else
    echo "‚ùå Assinatura muito ruidosa ($avg_entropy). Refatora√ß√£o necess√°ria."
    exit 1
fi
